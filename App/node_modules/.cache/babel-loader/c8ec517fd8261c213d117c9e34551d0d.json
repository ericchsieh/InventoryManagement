{"ast":null,"code":"import _classCallCheck from \"/Users/erichsieh/Documents/GitHub/project_g2i4q_g9y0b_s0q8j/cpsc304-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/erichsieh/Documents/GitHub/project_g2i4q_g9y0b_s0q8j/cpsc304-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/erichsieh/Documents/GitHub/project_g2i4q_g9y0b_s0q8j/cpsc304-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/erichsieh/Documents/GitHub/project_g2i4q_g9y0b_s0q8j/cpsc304-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/erichsieh/Documents/GitHub/project_g2i4q_g9y0b_s0q8j/cpsc304-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/erichsieh/Documents/GitHub/project_g2i4q_g9y0b_s0q8j/cpsc304-app/src/pages/Login.jsx\";\nimport React from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport \"./Login.css\";\nimport { UserDataContext } from \"./context\";\nvar Login = /*#__PURE__*/function (_React$Component) {\n  _inherits(Login, _React$Component);\n  function Login(props) {\n    var _this;\n    _classCallCheck(this, Login);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n    _this.handleFormSubmit = function (event) {\n      event.preventDefault(); // stops page from reloading\n      _this.context.user_id = _this.state.uname;\n      console.log(_this.context.user_id);\n      _this.context.authenticated = true;\n      _this.setState({\n        authenticated: true\n      });\n      // var loginForm = this;\n      // var url = \"https://www.students.cs.ubc.ca/~shasan01/login.php\";\n      // var formData = new FormData(); // stores POST information\n      // formData.append(\"post\", \"Faculty_Member\")\n      // formData.append(\"uname\", this.state.uname);\n\n      // const requestOptions = {\n      //     method: \"POST\",\n      //     body: formData,\n      // };\n\n      // fetch(url, requestOptions)\n      //     .then(function (response) {\n      //         return response.text();\n      //     })\n      //     .then(function (body) {\n      //         const body_json = JSON.parse(body);\n      //         loginForm.setState({authenticated: body_json.authenticated});\n      //         if (!body_json.authenticated) {\n      //             document.getElementById('incorrect-login').style.display = 'block';\n      //         }\n      //     });\n    };\n    _this.state = {\n      uname: '',\n      pword: '',\n      authenticated: false\n    };\n    return _this;\n  }\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      if (this.context.authenticated) {\n        return /*#__PURE__*/React.createElement(Navigate, {\n          to: \"/dashboard\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 20\n          }\n        });\n      }\n      // <div className=\"Login-container\">\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"section\", {\n        class: \"vh-100\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"container py-5 h-100\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"row d-flex justify-content-center align-items-center h-100\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-md-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-margin\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        class: \"mb-5 text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }\n      }, \"Sign In\"), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        autocomplete: \"off\",\n        autofocus: true,\n        class: \"form-control mx-auto w-auto\",\n        placeholder: \"Faculty Member ID\",\n        type: \"text\",\n        id: \"uname\",\n        name: \"username\",\n        value: this.state.uname,\n        onChange: function onChange(e) {\n          return _this2.setState({\n            uname: e.target.value\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        class: \"form-control mx-auto\",\n        type: \"submit\",\n        value: \"Login\",\n        onClick: function onClick(e) {\n          return _this2.handleFormSubmit(e);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 25\n        }\n      }))))))))), /*#__PURE__*/React.createElement(\"div\", {\n        id: \"incorrect-login\",\n        className: \"Incorrect-Login\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }\n      }, \"Incorrect Login\"));\n    }\n  }]);\n  return Login;\n}(React.Component);\nLogin.contextType = UserDataContext;\nexport default Login;","map":{"version":3,"names":["React","Navigate","UserDataContext","Login","props","handleFormSubmit","event","preventDefault","context","user_id","state","uname","console","log","authenticated","setState","pword","e","target","value","Component","contextType"],"sources":["/Users/erichsieh/Documents/GitHub/project_g2i4q_g9y0b_s0q8j/cpsc304-app/src/pages/Login.jsx"],"sourcesContent":["import React from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport \"./Login.css\";\nimport { UserDataContext } from \"./context\";\n\nclass Login extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            uname: '',\n            pword: '',\n            authenticated: false,\n        }\n    }\n\n    handleFormSubmit = event => {\n        event.preventDefault(); // stops page from reloading\n        this.context.user_id = this.state.uname;\n        console.log(this.context.user_id);\n        this.context.authenticated = true;\n        this.setState({authenticated: true});\n        // var loginForm = this;\n        // var url = \"https://www.students.cs.ubc.ca/~shasan01/login.php\";\n        // var formData = new FormData(); // stores POST information\n        // formData.append(\"post\", \"Faculty_Member\")\n        // formData.append(\"uname\", this.state.uname);\n\n        // const requestOptions = {\n        //     method: \"POST\",\n        //     body: formData,\n        // };\n        \n        // fetch(url, requestOptions)\n        //     .then(function (response) {\n        //         return response.text();\n        //     })\n        //     .then(function (body) {\n        //         const body_json = JSON.parse(body);\n        //         loginForm.setState({authenticated: body_json.authenticated});\n        //         if (!body_json.authenticated) {\n        //             document.getElementById('incorrect-login').style.display = 'block';\n        //         }\n        //     });\n    }\n\n    render() {\n        if (this.context.authenticated) {\n            return <Navigate to='/dashboard' />\n        }\n        // <div className=\"Login-container\">\n        return (\n            <>\n            <section class=\"vh-100\">\n            <div class=\"container py-5 h-100\">\n            <div class=\"row d-flex justify-content-center align-items-center h-100\">\n            <div class=\"col-md-4\">\n            <div class=\"card\">\n            <div className=\"card-margin\">\n                <form>\n                    <h3 class=\"mb-5 text-center\">\n                        Sign In\n                    </h3>\n                    <div class=\"mb-3\">\n                        <input \n                        autocomplete=\"off\" autofocus\n                        class=\"form-control mx-auto w-auto\"\n                        placeholder=\"Faculty Member ID\"\n                        type=\"text\" id=\"uname\" name=\"username\" \n                        value={this.state.uname}\n                        onChange={e => this.setState({uname: e.target.value})}\n                        />\n                    </div>\n                    <div class=\"mb-3\">\n                        <input\n                        class=\"form-control mx-auto\"\n                        type=\"submit\" value=\"Login\"\n                        onClick={e => this.handleFormSubmit(e)}\n                        />\n                    </div>\n                </form>\n            </div>   \n            </div>\n            </div>\n            </div>\n            </div>\n            </section>\n\n\n            <div id=\"incorrect-login\" className=\"Incorrect-Login\">\n                Incorrect Login\n            </div>\n            </>\n        )\n    }\n}\nLogin.contextType = UserDataContext;\n\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}