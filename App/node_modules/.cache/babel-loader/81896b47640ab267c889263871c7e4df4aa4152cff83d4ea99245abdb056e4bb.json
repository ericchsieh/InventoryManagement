{"ast":null,"code":"var _jsxFileName = \"/Users/erichsieh/Documents/GitHub/project_g2i4q_g9y0b_s0q8j/cpsc304-app/src/pages/Login.jsx\";\nimport React from \"react\";\nimport \"./Login.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      uname: '',\n      pword: '',\n      authenticated: null\n    };\n  }\n\n  // authenticateState() {\n  //     this.setState({authenticated: true});\n  //     console.log(this.state);\n  // }\n\n  handleFormSubmit(event) {\n    event.preventDefault();\n    const requestOptions = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(this.state)\n    };\n    fetch(\"https://www.students.cs.ubc.ca/~shasan01/login.php\", requestOptions).then(response => response.json()).then(data => this.setState({\n      authenticated: data.authenticated\n    }));\n\n    // var loginForm = this;\n    // var xhr = new XMLHttpRequest();\n    // xhr.onreadystatechange = function() {\n    //     if (xhr.readyState == 4 && xhr.status == 200) {\n    //         console.log(xhr.responseText);\n    //         const xhrObj = JSON.parse(xhr.responseText);\n    //         console.log(xhrObj);\n    //         loginForm.setState(\n    //             {authenticated: xhrObj.authenticated},\n    //             () => {console.log(loginForm.state);}\n    //         )\n    //         // loginForm.setState({authenticated: xhrObj.authenticated});\n    //         // console.log(loginForm.state);\n    //     }\n    // };\n    // xhr.open(\"POST\", \"https://www.students.cs.ubc.ca/~shasan01/login.php\");\n    // xhr.send(`uname=${this.state.uname}&pword=${this.state.pword}`);\n\n    // fetch(`https://www.students.cs.ubc.ca/~shasan01/login.php/?uname=${this.state.uname}&pword=${this.state.pword}`)\n    //     .then(res => res.json())\n    //     .then(\n    //         (result) => {\n    //             this.setState({authenticated: result.authenticated});\n    //             console.log(this.state);\n    //         },\n    //         (error) => {\n    //             this.setState({error});\n    //         }\n    //     )\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Login-container\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [\"Username: \", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"uname\",\n          name: \"username\",\n          value: this.state.uname,\n          onChange: e => this.setState({\n            uname: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 31\n        }, this), \"Password: \", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"pword\",\n          name: \"password\",\n          value: this.state.pword,\n          onChange: e => this.setState({\n            pword: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 31\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: \"Login\",\n          className: \"Login-submit-button\",\n          onClick: e => this.handleFormSubmit(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default Login;","map":{"version":3,"names":["React","Login","Component","constructor","props","state","uname","pword","authenticated","handleFormSubmit","event","preventDefault","requestOptions","method","headers","body","JSON","stringify","fetch","then","response","json","data","setState","render","e","target","value"],"sources":["/Users/erichsieh/Documents/GitHub/project_g2i4q_g9y0b_s0q8j/cpsc304-app/src/pages/Login.jsx"],"sourcesContent":["import React from \"react\";\nimport \"./Login.css\";\n\nclass Login extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            uname: '',\n            pword: '',\n            authenticated: null,\n        }\n    }\n\n    // authenticateState() {\n    //     this.setState({authenticated: true});\n    //     console.log(this.state);\n    // }\n\n    handleFormSubmit(event) {\n        event.preventDefault();\n        const requestOptions = {\n            method: \"POST\",\n            headers: {\"Content-Type\": \"application/json\"},\n            body: JSON.stringify(this.state)\n        };\n\n        fetch(\"https://www.students.cs.ubc.ca/~shasan01/login.php\", requestOptions)\n            .then(response => response.json())\n            .then(data => this.setState({authenticated: data.authenticated}));\n\n\n\n        // var loginForm = this;\n        // var xhr = new XMLHttpRequest();\n        // xhr.onreadystatechange = function() {\n        //     if (xhr.readyState == 4 && xhr.status == 200) {\n        //         console.log(xhr.responseText);\n        //         const xhrObj = JSON.parse(xhr.responseText);\n        //         console.log(xhrObj);\n        //         loginForm.setState(\n        //             {authenticated: xhrObj.authenticated},\n        //             () => {console.log(loginForm.state);}\n        //         )\n        //         // loginForm.setState({authenticated: xhrObj.authenticated});\n        //         // console.log(loginForm.state);\n        //     }\n        // };\n        // xhr.open(\"POST\", \"https://www.students.cs.ubc.ca/~shasan01/login.php\");\n        // xhr.send(`uname=${this.state.uname}&pword=${this.state.pword}`);\n        \n        // fetch(`https://www.students.cs.ubc.ca/~shasan01/login.php/?uname=${this.state.uname}&pword=${this.state.pword}`)\n        //     .then(res => res.json())\n        //     .then(\n        //         (result) => {\n        //             this.setState({authenticated: result.authenticated});\n        //             console.log(this.state);\n        //         },\n        //         (error) => {\n        //             this.setState({error});\n        //         }\n        //     )\n    }\n\n    render() {\n        return (\n            <div className=\"Login-container\">\n                <form /*action=\"/login_page.php\"*/>\n                    Username: <input type=\"text\" id=\"uname\" name=\"username\" \n                        value={this.state.uname}\n                        onChange={e => this.setState({uname: e.target.value})}\n                    />\n                    Password: <input type=\"text\" id=\"pword\" name=\"password\" \n                        value={this.state.pword}\n                        onChange={e => this.setState({pword: e.target.value})}\n                    />\n                    <input type=\"submit\" value=\"Login\" className=\"Login-submit-button\" onClick={e => this.handleFormSubmit(e)}/>\n                </form>   \n            </div>\n        )\n    }\n}\n\nexport default Login;"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAO,aAAa;AAAC;AAErB,MAAMC,KAAK,SAASD,KAAK,CAACE,SAAS,CAAC;EAChCC,WAAW,CAACC,KAAK,EAAE;IACf,KAAK,CAACA,KAAK,CAAC;IACZ,IAAI,CAACC,KAAK,GAAG;MACTC,KAAK,EAAE,EAAE;MACTC,KAAK,EAAE,EAAE;MACTC,aAAa,EAAE;IACnB,CAAC;EACL;;EAEA;EACA;EACA;EACA;;EAEAC,gBAAgB,CAACC,KAAK,EAAE;IACpBA,KAAK,CAACC,cAAc,EAAE;IACtB,MAAMC,cAAc,GAAG;MACnBC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAC,cAAc,EAAE;MAAkB,CAAC;MAC7CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC,IAAI,CAACZ,KAAK;IACnC,CAAC;IAEDa,KAAK,CAAC,oDAAoD,EAAEN,cAAc,CAAC,CACtEO,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,EAAE,CAAC,CACjCF,IAAI,CAACG,IAAI,IAAI,IAAI,CAACC,QAAQ,CAAC;MAACf,aAAa,EAAEc,IAAI,CAACd;IAAa,CAAC,CAAC,CAAC;;IAIrE;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACJ;;EAEAgB,MAAM,GAAG;IACL,oBACI;MAAK,SAAS,EAAC,iBAAiB;MAAA,uBAC5B;QAAA,sCACc;UAAO,IAAI,EAAC,MAAM;UAAC,EAAE,EAAC,OAAO;UAAC,IAAI,EAAC,UAAU;UACnD,KAAK,EAAE,IAAI,CAACnB,KAAK,CAACC,KAAM;UACxB,QAAQ,EAAEmB,CAAC,IAAI,IAAI,CAACF,QAAQ,CAAC;YAACjB,KAAK,EAAEmB,CAAC,CAACC,MAAM,CAACC;UAAK,CAAC;QAAE;UAAA;UAAA;UAAA;QAAA,QACxD,6BACQ;UAAO,IAAI,EAAC,MAAM;UAAC,EAAE,EAAC,OAAO;UAAC,IAAI,EAAC,UAAU;UACnD,KAAK,EAAE,IAAI,CAACtB,KAAK,CAACE,KAAM;UACxB,QAAQ,EAAEkB,CAAC,IAAI,IAAI,CAACF,QAAQ,CAAC;YAAChB,KAAK,EAAEkB,CAAC,CAACC,MAAM,CAACC;UAAK,CAAC;QAAE;UAAA;UAAA;UAAA;QAAA,QACxD,eACF;UAAO,IAAI,EAAC,QAAQ;UAAC,KAAK,EAAC,OAAO;UAAC,SAAS,EAAC,qBAAqB;UAAC,OAAO,EAAEF,CAAC,IAAI,IAAI,CAAChB,gBAAgB,CAACgB,CAAC;QAAE;UAAA;UAAA;UAAA;QAAA,QAAE;MAAA;QAAA;QAAA;QAAA;MAAA;IACzG;MAAA;MAAA;MAAA;IAAA,QACL;EAEd;AACJ;AAEA,eAAexB,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}