{"ast":null,"code":"import _classCallCheck from \"/Users/erichsieh/Documents/GitHub/project_g2i4q_g9y0b_s0q8j/cpsc304-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/erichsieh/Documents/GitHub/project_g2i4q_g9y0b_s0q8j/cpsc304-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/erichsieh/Documents/GitHub/project_g2i4q_g9y0b_s0q8j/cpsc304-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/erichsieh/Documents/GitHub/project_g2i4q_g9y0b_s0q8j/cpsc304-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/erichsieh/Documents/GitHub/project_g2i4q_g9y0b_s0q8j/cpsc304-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/erichsieh/Documents/GitHub/project_g2i4q_g9y0b_s0q8j/cpsc304-app/src/pages/Departments.jsx\";\nimport React from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport UserDataContext from \"./context\";\nvar Departments = /*#__PURE__*/function (_React$Component) {\n  _inherits(Departments, _React$Component);\n  function Departments(props) {\n    var _this;\n    _classCallCheck(this, Departments);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Departments).call(this, props));\n    _this.state = {\n      departments: [{\n        DEPT_NAME: \"Computer Science\",\n        BUDGET: 50000,\n        LABS: [\"Computer Vision Lab\", \"Algorithm Lab\"],\n        BUILDINGS: [\"ICCS\", \"DMP\"],\n        RECEIVED_TICKETS: 35\n      }]\n    };\n    _this.handleLoadDepartments();\n    return _this;\n  }\n  _createClass(Departments, [{\n    key: \"handleLoadDepartments\",\n    value: function handleLoadDepartments() {\n      var deptPage = this;\n      var url = \"https://www.students.cs.ubc.ca/~shasan01/sql_commands.php\";\n      var formData = new FormData();\n      formData.append(\"getDepartments\", \"\");\n      var requestOptions = {\n        method: \"POST\",\n        body: formData\n      };\n      fetch(url, requestOptions).then(function (response) {\n        return response.text();\n      }).then(function (body) {\n        var body_json = JSON.parse(body);\n        deptPage.setState({\n          departments: body_json\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      if (!this.context.authenticated) {\n        return /*#__PURE__*/React.createElement(Navigate, {\n          to: \"/\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 20\n          }\n        });\n      }\n      return /*#__PURE__*/React.createElement(\"div\", {\n        class: \"container-fluid\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }\n      }, \"Departments\")), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"mt-2 bg-light round\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"px-3 mt-3 mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"table\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 33\n        }\n      }, \"Department Name\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 33\n        }\n      }, \"Budget\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 33\n        }\n      }, \"Labs\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 33\n        }\n      }, \"Located in\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 33\n        }\n      }, \"# of received tickets\")), this.state.departments.map(function (department) {\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 41\n          }\n        }, department.DEPT_NAME), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 41\n          }\n        }, department.BUDGET), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 41\n          }\n        }, department.LABS.map(function (value, index) {\n          return /*#__PURE__*/React.createElement(\"button\", {\n            class: \"btn btn-light\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 49\n            }\n          }, value);\n        })), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 41\n          }\n        }, department.BUILDINGS.map(function (value, index) {\n          return /*#__PURE__*/React.createElement(\"button\", {\n            class: \"btn btn-light\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 49\n            }\n          }, value);\n        })), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 41\n          }\n        }, department.RECEIVED_TICKETS));\n      })))));\n    }\n  }]);\n  return Departments;\n}(React.Component);\nDepartments.contextType = UserDataContext;\nexport default Departments;","map":{"version":3,"names":["React","Navigate","UserDataContext","Departments","props","state","departments","DEPT_NAME","BUDGET","LABS","BUILDINGS","RECEIVED_TICKETS","handleLoadDepartments","deptPage","url","formData","FormData","append","requestOptions","method","body","fetch","then","response","text","body_json","JSON","parse","setState","context","authenticated","map","department","value","index","Component","contextType"],"sources":["/Users/erichsieh/Documents/GitHub/project_g2i4q_g9y0b_s0q8j/cpsc304-app/src/pages/Departments.jsx"],"sourcesContent":["import React from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport UserDataContext from \"./context\";\n\nclass Departments extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            departments: [{\n                DEPT_NAME: \"Computer Science\",\n                BUDGET: 50000,\n                LABS: [\"Computer Vision Lab\", \"Algorithm Lab\"],\n                BUILDINGS: [\"ICCS\", \"DMP\"],\n                RECEIVED_TICKETS: 35\n            }]\n        }\n        this.handleLoadDepartments();\n    }\n\n    handleLoadDepartments() {\n        var deptPage = this;\n        var url = \"https://www.students.cs.ubc.ca/~shasan01/sql_commands.php\";\n        var formData = new FormData();\n        formData.append(\"getDepartments\", \"\");\n\n        const requestOptions = {\n            method: \"POST\",\n            body: formData,\n        };\n\n        fetch(url, requestOptions)\n            .then(function (response) {\n                return response.text();\n            })\n            .then(function (body) {\n                const body_json = JSON.parse(body);\n                deptPage.setState({departments: body_json});\n        });\n    }\n\n    render() {\n        if (!this.context.authenticated) {\n            return <Navigate to='/' />\n        }\n        return (\n            <div class=\"container-fluid\">\n                <div class=\"row\">\n                    <h1>Departments</h1>\n                </div>\n                <div class=\"mt-2 bg-light round\">\n                    <div class=\"px-3 mt-3 mb-3\">\n                        <table>\n                            <tr>\n                                <th>Department Name</th>\n                                <th>Budget</th>\n                                <th>Labs</th>\n                                <th>Located in</th>\n                                <th># of received tickets</th>\n                            </tr>\n                            {\n                                this.state.departments.map((department) => (\n                                    <tr>\n                                        <td>{department.DEPT_NAME}</td>\n                                        <td>{department.BUDGET}</td>\n                                        <td>{\n                                            department.LABS.map((value, index) => (\n                                                <button class=\"btn btn-light\">\n                                                    {value}\n                                                </button>\n                                            ))\n                                        }</td>\n                                        <td>{\n                                            department.BUILDINGS.map((value, index) => (\n                                                <button class=\"btn btn-light\">\n                                                    {value}\n                                                </button>\n                                            ))\n                                        }</td>\n                                        <td>{department.RECEIVED_TICKETS}</td>\n                                    </tr>\n                                ))\n                            }\n                        </table>\n                    </div>\n                </div>\n            </div>\n        )\n    };\n}\nDepartments.contextType = UserDataContext;\n\nexport default Departments;"],"mappings":"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"},"metadata":{},"sourceType":"module"}