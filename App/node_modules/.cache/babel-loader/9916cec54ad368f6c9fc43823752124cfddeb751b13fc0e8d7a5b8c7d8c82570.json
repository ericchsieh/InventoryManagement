{"ast":null,"code":"var _jsxFileName = \"/Users/erichsieh/Documents/GitHub/project_g2i4q_g9y0b_s0q8j/cpsc304-app/src/pages/Login.jsx\";\nimport React from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport \"./Login.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleFormSubmit = event => {\n      event.preventDefault(); // stops page from reloading\n      var loginForm = this;\n      var url = \"https://www.students.cs.ubc.ca/~shasan01/login.php\";\n      var formData = new FormData(); // stores POST information\n      formData.append(\"uname\", this.state.uname);\n      formData.append(\"pword\", this.state.pword);\n      const requestOptions = {\n        method: \"POST\",\n        body: formData\n      };\n      fetch(url, requestOptions).then(function (response) {\n        return response.text();\n      }).then(function (body) {\n        const body_json = JSON.parse(body);\n        loginForm.setState({\n          authenticated: body_json.authenticated\n        });\n        if (!body_json.authenticated) {\n          document.getElementById('incorrect-login').style.display = 'block';\n        }\n      });\n    };\n    this.state = {\n      uname: '',\n      pword: '',\n      authenticated: null\n    };\n  }\n  render() {\n    if (this.state.authenticated) {\n      return /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 20\n      }, this);\n    }\n    // <div className=\"Login-container\">\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        class: \"vh-100\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"container py-5 h-100\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"mb-3\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  autocomplete: \"off\",\n                  autofocus: true,\n                  class: \"form-control mx-auto w-auto\",\n                  placeholder: \"Username\",\n                  type: \"text\",\n                  id: \"uname\",\n                  name: \"username\",\n                  value: this.state.uname,\n                  onChange: e => this.setState({\n                    uname: e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 53,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"mb-3\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  autocomplete: \"off\",\n                  autofocus: true,\n                  class: \"form-control mx-auto w-auto\",\n                  placeholder: \"Password\",\n                  type: \"text\",\n                  id: \"pword\",\n                  name: \"password\",\n                  value: this.state.pword,\n                  onChange: e => this.setState({\n                    pword: e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"mb-3\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  class: \"form-control mx-auto w-auto\",\n                  type: \"submit\",\n                  value: \"Login\",\n                  onClick: e => this.handleFormSubmit(e)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 73,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"mb-3\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  class: \"form-control mx-auto w-auto\",\n                  type: \"submit\",\n                  value: \"Login\",\n                  onClick: e => this.handleFormSubmit(e)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"incorrect-login\",\n        className: \"Incorrect-Login\",\n        children: \"Incorrect Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true);\n  }\n}\nexport default Login;","map":{"version":3,"names":["React","Navigate","Login","Component","constructor","props","handleFormSubmit","event","preventDefault","loginForm","url","formData","FormData","append","state","uname","pword","requestOptions","method","body","fetch","then","response","text","body_json","JSON","parse","setState","authenticated","document","getElementById","style","display","render","e","target","value"],"sources":["/Users/erichsieh/Documents/GitHub/project_g2i4q_g9y0b_s0q8j/cpsc304-app/src/pages/Login.jsx"],"sourcesContent":["import React from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport \"./Login.css\";\n\nclass Login extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            uname: '',\n            pword: '',\n            authenticated: null,\n        }\n    }\n\n    handleFormSubmit = event => {\n        event.preventDefault(); // stops page from reloading\n        var loginForm = this;\n        var url = \"https://www.students.cs.ubc.ca/~shasan01/login.php\";\n        var formData = new FormData(); // stores POST information\n        formData.append(\"uname\", this.state.uname);\n        formData.append(\"pword\", this.state.pword);\n\n        const requestOptions = {\n            method: \"POST\",\n            body: formData,\n        };\n        \n        fetch(url, requestOptions)\n            .then(function (response) {\n                return response.text();\n            })\n            .then(function (body) {\n                const body_json = JSON.parse(body);\n                loginForm.setState({authenticated: body_json.authenticated});\n                if (!body_json.authenticated) {\n                    document.getElementById('incorrect-login').style.display = 'block';\n                }\n            });\n    }\n\n    render() {\n        if (this.state.authenticated) {\n            return <Navigate to='/home' />\n        }\n        // <div className=\"Login-container\">\n        return (\n            <>\n            <section class=\"vh-100\">\n            <div class=\"container py-5 h-100\">\n            <div>\n                <form>\n                    <div class=\"mb-3\">\n                        <input \n                        autocomplete=\"off\" autofocus\n                        class=\"form-control mx-auto w-auto\"\n                        placeholder=\"Username\"\n                        type=\"text\" id=\"uname\" name=\"username\" \n                        value={this.state.uname}\n                        onChange={e => this.setState({uname: e.target.value})}\n                        />\n                    </div>\n                    <div class=\"mb-3\">\n                        <input\n                        autocomplete=\"off\" autofocus\n                        class=\"form-control mx-auto w-auto\"\n                        placeholder=\"Password\" \n                        type=\"text\" id=\"pword\" name=\"password\" \n                        value={this.state.pword}\n                        onChange={e => this.setState({pword: e.target.value})}\n                        />\n                    </div>\n                    <div class=\"mb-3\">\n                        <input\n                        class=\"form-control mx-auto w-auto\"\n                        type=\"submit\" value=\"Login\"\n                        onClick={e => this.handleFormSubmit(e)}\n                        />\n                    </div>\n\n                    <div class=\"mb-3\">\n                    <input\n                    class=\"form-control mx-auto w-auto\" \n                    type=\"submit\" value=\"Login\" \n                     \n                    onClick={e => this.handleFormSubmit(e)}/>\n                    </div>\n                </form>\n            </div>   \n            </div>\n            </section>\n\n\n            <div id=\"incorrect-login\" className=\"Incorrect-Login\">\n                Incorrect Login\n            </div>\n            </>\n        )\n    }\n}\n\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}