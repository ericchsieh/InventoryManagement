{"ast":null,"code":"var _jsxFileName = \"/Users/erichsieh/Documents/GitHub/project_g2i4q_g9y0b_s0q8j/cpsc304-app/src/pages/Login.jsx\";\nimport React from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleFormSubmit = event => {\n      event.preventDefault(); // stops page from reloading\n      var loginForm = this;\n      var url = \"https://www.students.cs.ubc.ca/~shasan01/login.php\";\n      var formData = new FormData(); // stores POST information\n      formData.append(\"uname\", this.state.uname);\n      formData.append(\"pword\", this.state.pword);\n      const requestOptions = {\n        method: \"POST\",\n        body: formData\n      };\n      fetch(url, requestOptions).then(function (response) {\n        return response.text();\n      }).then(function (body) {\n        const body_json = JSON.parse(body);\n        loginForm.setState({\n          authenticated: body_json.authenticated\n        });\n        if (!body_json.authenticated) {\n          document.getElementById('incorrect-login').style.display = 'block';\n        }\n      });\n    };\n    this.state = {\n      uname: '',\n      pword: '',\n      authenticated: null\n    };\n  }\n  render() {\n    if (this.state.authenticated) {\n      return /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 20\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Login-container\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"mb-3\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              autocomplete: \"off\",\n              autofocus: true,\n              class: \"form-control mx-auto w-auto\",\n              placeholder: \"Username\",\n              type: \"text\",\n              id: \"uname\",\n              name: \"username\",\n              value: this.state.uname,\n              onChange: e => this.setState({\n                uname: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"mb-3\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              autocomplete: \"off\",\n              autofocus: true,\n              class: \"form-control mx-auto w-auto\",\n              placeholder: \"Password\",\n              type: \"text\",\n              id: \"pword\",\n              name: \"password\",\n              value: this.state.pword,\n              onChange: e => this.setState({\n                pword: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            class: \"btn btn-primary\",\n            type: \"submit\",\n            value: \"Login\",\n            className: \"Login-submit-button\",\n            onClick: e => this.handleFormSubmit(e),\n            children: \"Log In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"incorrect-login\",\n        className: \"Incorrect-Login\",\n        children: \"Incorrect Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true);\n  }\n}\nexport default Login;","map":{"version":3,"names":["React","Navigate","Login","Component","constructor","props","handleFormSubmit","event","preventDefault","loginForm","url","formData","FormData","append","state","uname","pword","requestOptions","method","body","fetch","then","response","text","body_json","JSON","parse","setState","authenticated","document","getElementById","style","display","render","e","target","value"],"sources":["/Users/erichsieh/Documents/GitHub/project_g2i4q_g9y0b_s0q8j/cpsc304-app/src/pages/Login.jsx"],"sourcesContent":["import React from \"react\";\nimport { Navigate } from \"react-router-dom\";\n\nclass Login extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            uname: '',\n            pword: '',\n            authenticated: null,\n        }\n    }\n\n    handleFormSubmit = event => {\n        event.preventDefault(); // stops page from reloading\n        var loginForm = this;\n        var url = \"https://www.students.cs.ubc.ca/~shasan01/login.php\";\n        var formData = new FormData(); // stores POST information\n        formData.append(\"uname\", this.state.uname);\n        formData.append(\"pword\", this.state.pword);\n\n        const requestOptions = {\n            method: \"POST\",\n            body: formData,\n        };\n        \n        fetch(url, requestOptions)\n            .then(function (response) {\n                return response.text();\n            })\n            .then(function (body) {\n                const body_json = JSON.parse(body);\n                loginForm.setState({authenticated: body_json.authenticated});\n                if (!body_json.authenticated) {\n                    document.getElementById('incorrect-login').style.display = 'block';\n                }\n            });\n    }\n\n    render() {\n        if (this.state.authenticated) {\n            return <Navigate to='/home' />\n        }\n        return (\n            <>\n            <div className=\"Login-container\">\n                <form>\n                    <div class=\"mb-3\">\n                        <input \n                        autocomplete=\"off\" autofocus\n                        class=\"form-control mx-auto w-auto\"\n                        placeholder=\"Username\"\n                        type=\"text\" id=\"uname\" name=\"username\" \n                        value={this.state.uname}\n                        onChange={e => this.setState({uname: e.target.value})}\n                        />\n                    </div>\n                    <div class=\"mb-3\">\n                        <input\n                        autocomplete=\"off\" autofocus\n                        class=\"form-control mx-auto w-auto\"\n                        placeholder=\"Password\" \n                        type=\"text\" id=\"pword\" name=\"password\" \n                        value={this.state.pword}\n                        onChange={e => this.setState({pword: e.target.value})}\n                        />\n                    </div>\n                    <button\n                    class=\"btn btn-primary\" \n                    type=\"submit\" value=\"Login\" \n                    className=\"Login-submit-button\" \n                    onClick={e => this.handleFormSubmit(e)}>\n                    Log In\n                    </button>\n                </form>   \n            </div>\n            <div id=\"incorrect-login\" className=\"Incorrect-Login\">\n                Incorrect Login\n            </div>\n            </>\n        )\n    }\n}\n\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}