{"ast":null,"code":"import _classCallCheck from \"/Users/erichsieh/Documents/GitHub/project_g2i4q_g9y0b_s0q8j/cpsc304-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/erichsieh/Documents/GitHub/project_g2i4q_g9y0b_s0q8j/cpsc304-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/erichsieh/Documents/GitHub/project_g2i4q_g9y0b_s0q8j/cpsc304-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/erichsieh/Documents/GitHub/project_g2i4q_g9y0b_s0q8j/cpsc304-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/erichsieh/Documents/GitHub/project_g2i4q_g9y0b_s0q8j/cpsc304-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/erichsieh/Documents/GitHub/project_g2i4q_g9y0b_s0q8j/cpsc304-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/erichsieh/Documents/GitHub/project_g2i4q_g9y0b_s0q8j/cpsc304-app/src/pages/Login.jsx\";\nimport React from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport \"./Login.css\";\nvar Login = /*#__PURE__*/function (_React$Component) {\n  _inherits(Login, _React$Component);\n  function Login(props) {\n    var _this;\n    _classCallCheck(this, Login);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n    _this.handleFormSubmit = function (event) {\n      event.preventDefault(); // stops page from reloading\n      var loginForm = _assertThisInitialized(_assertThisInitialized(_this));\n      var url = \"https://www.students.cs.ubc.ca/~shasan01/login.php\";\n      var formData = new FormData(); // stores POST information\n      formData.append(\"uname\", _this.state.uname);\n      formData.append(\"pword\", _this.state.pword);\n      var requestOptions = {\n        method: \"POST\",\n        body: formData\n      };\n      fetch(url, requestOptions).then(function (response) {\n        return response.text();\n      }).then(function (body) {\n        var body_json = JSON.parse(body);\n        loginForm.setState({\n          authenticated: body_json.authenticated\n        });\n        if (!body_json.authenticated) {\n          document.getElementById('incorrect-login').style.display = 'block';\n        }\n      });\n    };\n    _this.state = {\n      uname: '',\n      pword: '',\n      authenticated: null\n    };\n    return _this;\n  }\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      if (this.state.authenticated) {\n        return /*#__PURE__*/React.createElement(Navigate, {\n          to: \"/home\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 20\n          }\n        });\n      }\n      // <div className=\"Login-container\">\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"section\", {\n        class: \"vh-100\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"container py-5 h-100\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"row d-flex justify-content-center align-items-center h-100\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-md-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-margin\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        class: \"mb-5 text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }\n      }, \"Sign In\"), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        autocomplete: \"off\",\n        autofocus: true,\n        class: \"form-control mx-auto w-auto\",\n        placeholder: \"Username\",\n        type: \"text\",\n        id: \"uname\",\n        name: \"username\",\n        value: this.state.uname,\n        onChange: function onChange(e) {\n          return _this2.setState({\n            uname: e.target.value\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        autocomplete: \"off\",\n        autofocus: true,\n        class: \"form-control mx-auto w-auto\",\n        placeholder: \"Password\",\n        type: \"text\",\n        id: \"pword\",\n        name: \"password\",\n        value: this.state.pword,\n        onChange: function onChange(e) {\n          return _this2.setState({\n            pword: e.target.value\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        class: \"form-control mx-auto\",\n        type: \"submit\",\n        value: \"Login\",\n        onClick: function onClick(e) {\n          return _this2.handleFormSubmit(e);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 25\n        }\n      }))))))))), /*#__PURE__*/React.createElement(\"div\", {\n        id: \"incorrect-login\",\n        className: \"Incorrect-Login\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }\n      }, \"Incorrect Login\"));\n    }\n  }]);\n  return Login;\n}(React.Component);\nexport default Login;","map":{"version":3,"names":["React","Navigate","Login","props","handleFormSubmit","event","preventDefault","loginForm","url","formData","FormData","append","state","uname","pword","requestOptions","method","body","fetch","then","response","text","body_json","JSON","parse","setState","authenticated","document","getElementById","style","display","e","target","value","Component"],"sources":["/Users/erichsieh/Documents/GitHub/project_g2i4q_g9y0b_s0q8j/cpsc304-app/src/pages/Login.jsx"],"sourcesContent":["import React from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport \"./Login.css\";\n\nclass Login extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            uname: '',\n            pword: '',\n            authenticated: null,\n        }\n    }\n\n    handleFormSubmit = event => {\n        event.preventDefault(); // stops page from reloading\n        var loginForm = this;\n        var url = \"https://www.students.cs.ubc.ca/~shasan01/login.php\";\n        var formData = new FormData(); // stores POST information\n        formData.append(\"uname\", this.state.uname);\n        formData.append(\"pword\", this.state.pword);\n\n        const requestOptions = {\n            method: \"POST\",\n            body: formData,\n        };\n        \n        fetch(url, requestOptions)\n            .then(function (response) {\n                return response.text();\n            })\n            .then(function (body) {\n                const body_json = JSON.parse(body);\n                loginForm.setState({authenticated: body_json.authenticated});\n                if (!body_json.authenticated) {\n                    document.getElementById('incorrect-login').style.display = 'block';\n                }\n            });\n    }\n\n    render() {\n        if (this.state.authenticated) {\n            return <Navigate to='/home' />\n        }\n        // <div className=\"Login-container\">\n        return (\n            <>\n            <section class=\"vh-100\">\n            <div class=\"container py-5 h-100\">\n            <div class=\"row d-flex justify-content-center align-items-center h-100\">\n            <div class=\"col-md-4\">\n            <div class=\"card\">\n            <div className=\"card-margin\">\n                <form>\n                    <h3 class=\"mb-5 text-center\">\n                        Sign In\n                    </h3>\n                    <div class=\"mb-3\">\n                        <input \n                        autocomplete=\"off\" autofocus\n                        class=\"form-control mx-auto w-auto\"\n                        placeholder=\"Username\"\n                        type=\"text\" id=\"uname\" name=\"username\" \n                        value={this.state.uname}\n                        onChange={e => this.setState({uname: e.target.value})}\n                        />\n                    </div>\n                    <div class=\"mb-3\">\n                        <input\n                        autocomplete=\"off\" autofocus\n                        class=\"form-control mx-auto w-auto\"\n                        placeholder=\"Password\" \n                        type=\"text\" id=\"pword\" name=\"password\" \n                        value={this.state.pword}\n                        onChange={e => this.setState({pword: e.target.value})}\n                        />\n                    </div>\n                    <div class=\"mb-3\">\n                        <input\n                        class=\"form-control mx-auto\"\n                        type=\"submit\" value=\"Login\"\n                        onClick={e => this.handleFormSubmit(e)}\n                        />\n                    </div>\n                </form>\n            </div>   \n            </div>\n            </div>\n            </div>\n            </div>\n            </section>\n\n\n            <div id=\"incorrect-login\" className=\"Incorrect-Login\">\n                Incorrect Login\n            </div>\n            </>\n        )\n    }\n}\n\nexport default Login;"],"mappings":";;;;;;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,kBAAkB;AAC3C,OAAO,aAAa;AAAC,IAEfC,KAAK;EAAA;EACP,eAAYC,KAAK,EAAE;IAAA;IAAA;IACf,2EAAMA,KAAK;IAAE,MAQjBC,gBAAgB,GAAG,UAAAC,KAAK,EAAI;MACxBA,KAAK,CAACC,cAAc,EAAE,CAAC,CAAC;MACxB,IAAIC,SAAS,wDAAO;MACpB,IAAIC,GAAG,GAAG,oDAAoD;MAC9D,IAAIC,QAAQ,GAAG,IAAIC,QAAQ,EAAE,CAAC,CAAC;MAC/BD,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE,MAAKC,KAAK,CAACC,KAAK,CAAC;MAC1CJ,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE,MAAKC,KAAK,CAACE,KAAK,CAAC;MAE1C,IAAMC,cAAc,GAAG;QACnBC,MAAM,EAAE,MAAM;QACdC,IAAI,EAAER;MACV,CAAC;MAEDS,KAAK,CAACV,GAAG,EAAEO,cAAc,CAAC,CACrBI,IAAI,CAAC,UAAUC,QAAQ,EAAE;QACtB,OAAOA,QAAQ,CAACC,IAAI,EAAE;MAC1B,CAAC,CAAC,CACDF,IAAI,CAAC,UAAUF,IAAI,EAAE;QAClB,IAAMK,SAAS,GAAGC,IAAI,CAACC,KAAK,CAACP,IAAI,CAAC;QAClCV,SAAS,CAACkB,QAAQ,CAAC;UAACC,aAAa,EAAEJ,SAAS,CAACI;QAAa,CAAC,CAAC;QAC5D,IAAI,CAACJ,SAAS,CAACI,aAAa,EAAE;UAC1BC,QAAQ,CAACC,cAAc,CAAC,iBAAiB,CAAC,CAACC,KAAK,CAACC,OAAO,GAAG,OAAO;QACtE;MACJ,CAAC,CAAC;IACV,CAAC;IA/BG,MAAKlB,KAAK,GAAG;MACTC,KAAK,EAAE,EAAE;MACTC,KAAK,EAAE,EAAE;MACTY,aAAa,EAAE;IACnB,CAAC;IAAA;EACL;EAAC;IAAA;IAAA,yBA4BQ;MAAA;MACL,IAAI,IAAI,CAACd,KAAK,CAACc,aAAa,EAAE;QAC1B,oBAAO,oBAAC,QAAQ;UAAC,EAAE,EAAC,OAAO;UAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QAAA,EAAG;MAClC;MACA;MACA,oBACI,uDACA;QAAS,KAAK,EAAC,QAAQ;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBACvB;QAAK,KAAK,EAAC,sBAAsB;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBACjC;QAAK,KAAK,EAAC,4DAA4D;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBACvE;QAAK,KAAK,EAAC,UAAU;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBACrB;QAAK,KAAK,EAAC,MAAM;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBACjB;QAAK,SAAS,EAAC,aAAa;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBACxB;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBACI;QAAI,KAAK,EAAC,kBAAkB;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,aAEvB,eACL;QAAK,KAAK,EAAC,MAAM;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBACb;QACA,YAAY,EAAC,KAAK;QAAC,SAAS;QAC5B,KAAK,EAAC,6BAA6B;QACnC,WAAW,EAAC,UAAU;QACtB,IAAI,EAAC,MAAM;QAAC,EAAE,EAAC,OAAO;QAAC,IAAI,EAAC,UAAU;QACtC,KAAK,EAAE,IAAI,CAACd,KAAK,CAACC,KAAM;QACxB,QAAQ,EAAE,kBAAAkB,CAAC;UAAA,OAAI,MAAI,CAACN,QAAQ,CAAC;YAACZ,KAAK,EAAEkB,CAAC,CAACC,MAAM,CAACC;UAAK,CAAC,CAAC;QAAA,CAAC;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EACpD,CACA,eACN;QAAK,KAAK,EAAC,MAAM;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBACb;QACA,YAAY,EAAC,KAAK;QAAC,SAAS;QAC5B,KAAK,EAAC,6BAA6B;QACnC,WAAW,EAAC,UAAU;QACtB,IAAI,EAAC,MAAM;QAAC,EAAE,EAAC,OAAO;QAAC,IAAI,EAAC,UAAU;QACtC,KAAK,EAAE,IAAI,CAACrB,KAAK,CAACE,KAAM;QACxB,QAAQ,EAAE,kBAAAiB,CAAC;UAAA,OAAI,MAAI,CAACN,QAAQ,CAAC;YAACX,KAAK,EAAEiB,CAAC,CAACC,MAAM,CAACC;UAAK,CAAC,CAAC;QAAA,CAAC;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EACpD,CACA,eACN;QAAK,KAAK,EAAC,MAAM;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBACb;QACA,KAAK,EAAC,sBAAsB;QAC5B,IAAI,EAAC,QAAQ;QAAC,KAAK,EAAC,OAAO;QAC3B,OAAO,EAAE,iBAAAF,CAAC;UAAA,OAAI,MAAI,CAAC3B,gBAAgB,CAAC2B,CAAC,CAAC;QAAA,CAAC;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EACrC,CACA,CACH,CACL,CACA,CACA,CACA,CACA,CACI,eAGV;QAAK,EAAE,EAAC,iBAAiB;QAAC,SAAS,EAAC,iBAAiB;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,qBAE/C,CACH;IAEX;EAAC;EAAA;AAAA,EA9Fe/B,KAAK,CAACkC,SAAS;AAiGnC,eAAehC,KAAK"},"metadata":{},"sourceType":"module"}